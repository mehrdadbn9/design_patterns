<h1 style="text-align: center;">STATE</h1>

<div dir ="rtl">

:star2:State یک الگوی طراحی behavioral است که به یک شی اجازه می دهد تا خودش را تغییر دهد هنگامی که وضعیت داخلی آن تغییر کند و این طور به نظر می رسد که شی کلاس خود را تغییر داده باشد.


الگوی حالت با مفهوم ماشین وضعیت محدود(Finite-State Machine) ارتباط نزدیک دارد و در دانشگاه نیز تدریس  می شود.

:pencil2: مثال:
 این رویکرد را میتوان روی اشیا نیز اعمال کرد. تصور کنید که ما کلاس Document داریم. یک سند می تواند در یکی از سه حالت زیر باشد:
  پیش نویس ، تعدیل و منتشر شده(Draft , Moderation and Published). روش انتشار سند در هر بخش متفاوت است

>![documents_cycle & steps](https://refactoring.guru/images/patterns/diagrams/state/problem2-en.png?id=8a3cb79b309a9d832762)

ماشین های حالت معمولاً با تعداد زیادی عملگر شرطی ( if or switch ) اجرا می شوند که بسته به وضعیت فعلی جسم رفتار مناسبی را انتخاب می کنند. <strong>دیزاین پترن state کمک به کاهش این عملگرها می کند همچنین هزینه نگه داری را می کاهد.
</strong>
:question:بزرگترین ضعف یک ماشین حالت مبتنی بر شرط ، خود را  هنگامی که ما شروع به اضافه کردن بیشتر و بیشتر حالت ها و رفتارهای وابسته به حالت به کلاس Document می کنیم نشان می دهد. نگهداری کدی از این قبیل بسیار دشوار است زیرا هرگونه تغییر در منطق ممکن است به تغییر شرط های حالت در هر متد نیاز داشته باشد.

:heavy_check_mark: الگوی State به شما پیشنهاد می دهد که کلاسهای جدیدی را برای همه حالتهای ممکن یک شی ایجاد کنید و تمام رفتارهای خاص  را در این کلاس ها بگنجانید.

:key:  این ساختار ممکن است شبیه الگوی <b>استراتژی</b> باشد ، اما یک تفاوت اساسی وجود دارد.  ،**در الگوی حالت ممكن است حالت ها از یكدیگر آگاه باشند و انتقال از یك حالت به حالت دیگر را آغاز كنند**  ، در حالی كه استراتژی ها تقریباً هرگز در مورد یكدیگر نمی دانند.





>  مثال های دیگر:
۱.  تغییر حالت زنگ گوشی همراه
    ۲. Task Manager apps
   ۳.  دستگاه فروش و حالت موس
   
<img style="float: left;" 
   src="https://sourcemaking.com/files/v2/content/patterns/State_example1.png?id=8baa1be293a1de79a6a7" alt="vending_machine" width="220"/>


<img style="float: right;" src=https://slidetodoc.com/presentation_image/71c4b8154a8cb2476ad7034c8aa11996/image-24.jpg alt=mouse_logo_status width= "230" />
